(self.webpackChunkclient=self.webpackChunkclient||[]).push([[302],{8546:(t,e,r)=>{"use strict";r.d(e,{$:()=>n});var o=r(8619);let n=(()=>{class t{constructor(){this.count=0,this.incremented=new o.vpe,this.decremented=new o.vpe}handleIncrement(){this.incremented.emit(!0)}handleDecrement(){this.decremented.emit(!0)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-quantity-count"]],inputs:{count:"count"},outputs:{incremented:"incremented",decremented:"decremented"},decls:9,vars:3,consts:[[1,"flex","items-center"],[1,"cursor-pointer","disabled:cursor-default","disabled:pointer-events-none",3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","stroke","white",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"mx-2","w-4","flex","justify-center"],[1,"cursor-pointer","disabled:cursor-default","disabled:pointer-events-none",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","#4f46e5","stroke","white",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"]],template:function(t,e){1&t&&(o.TgZ(0,"div",0),o.TgZ(1,"button",1),o.NdJ("click",function(){return e.handleDecrement()}),o.O4$(),o.TgZ(2,"svg",2),o._UZ(3,"path",3),o.qZA(),o.qZA(),o.kcU(),o.TgZ(4,"span",4),o._uU(5),o.qZA(),o.TgZ(6,"button",5),o.NdJ("click",function(){return e.handleIncrement()}),o.O4$(),o.TgZ(7,"svg",6),o._UZ(8,"path",7),o.qZA(),o.qZA(),o.qZA()),2&t&&(o.xp6(1),o.Q6J("disabled",1===e.count),o.xp6(1),o.uIk("fill",1===e.count?"#818CF8":"#4f46e5"),o.xp6(3),o.hij(" ",e.count," "))},encapsulation:2,changeDetection:0}),t})()},2302:(t,e,r)=>{"use strict";r.r(e),r.d(e,{ShopModule:()=>E});var o=r(1116),n=r(5424),i=r(8619),s=r(2693),a=r(8512),c=r(878);const d={id:0,name:"",description:"",price:-1,pictureUrl:"",productType:"",productBrand:""};var p=r(6673);class u{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new l(t,this.compare,this.keySelector))}}class l extends p.L{constructor(t,e,r){super(t),this.keySelector=r,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:r}=this;e=r?r(t):t}catch(o){return this.destination.error(o)}let r=!1;if(this.hasKey)try{const{compare:t}=this;r=t(this.key,e)}catch(o){return this.destination.error(o)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))}}var g=r(6599),h=r(4689),m=r(9996);class x{constructor(){this.brandId=0,this.typeId=0,this.sort="name",this.pageIndex=1,this.pageSize=6,this.search=""}}var f=r(529);let v=(()=>{class t{constructor(t){var e;this.http=t,this.baseUrl=f.N.apiUrl,this.cacheKey="",this.productParams=new a.X(new x),this.productParams$=this.productParams.asObservable().pipe((e=(t,e)=>this.isParamsEqual(t,e),t=>t.lift(new u(e,void 0))),(0,g.b)(t=>{this.cacheKey=Object.values(t).join("-")})),this.totalProductCount=new a.X(0),this.totalProductCount$=this.totalProductCount.asObservable(),this.products=new Map,this.products$=this.productParams$.pipe((0,h.w)(()=>{const t=this.products.get(this.cacheKey);return t?(this.totalProductCount.next(t.count),(0,c.of)(t.data)):this.getProducts()})),this.brands=[],this.types=[]}getProducts(){let t=new s.LE;return this.productParams.value.brandId&&(t=t.set("brandId",this.productParams.value.brandId.toString())),this.productParams.value.typeId&&(t=t.set("typeId",this.productParams.value.typeId.toString())),this.productParams.value.search&&(t=t.set("search",this.productParams.value.search.toString())),t=t.set("sort",this.productParams.value.sort),t=t.set("pageIndex",this.productParams.value.pageIndex.toString()),t=t.set("pageSize",this.productParams.value.pageSize.toString()),this.http.get(`${this.baseUrl}/products`,{params:t}).pipe((0,m.U)(t=>(this.totalProductCount.next(t.count),this.products.set(this.cacheKey,t),t.data)))}getProduct(t){const e=this.products.get(this.cacheKey);if(e){const r=e.data.find(e=>e.id===t);return r?(0,c.of)(r):this.http.get(`${this.baseUrl}/products/${t}`)}return(0,c.of)(d)}getBrands(){return this.brands.length>0?(0,c.of)(this.brands):this.http.get(`${this.baseUrl}/products/brands`).pipe((0,m.U)(t=>this.brands=t))}getTypes(){return this.types.length>0?(0,c.of)(this.types):this.http.get(`${this.baseUrl}/products/types`).pipe((0,m.U)(t=>this.types=t))}updateProductParams(t){console.log("updateProductParams");const e=Object.assign(Object.assign({},this.productParams.value),t);this.productParams.next(e)}isParamsEqual(t,e){return t.brandId===e.brandId&&t.pageIndex===e.pageIndex&&t.pageSize===e.pageSize&&t.search===e.search&&t.sort===e.sort&&t.typeId===e.typeId}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(s.eN))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Z=r(1630),y=r(3241),b=r(8546);function w(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",1),i.TgZ(1,"div",2),i._UZ(2,"img",3),i.qZA(),i.TgZ(3,"div",4),i.TgZ(4,"h3",5),i._uU(5),i.qZA(),i.TgZ(6,"p",6),i._uU(7),i.ALo(8,"currency"),i.qZA(),i.TgZ(9,"div",7),i.TgZ(10,"app-quantity-count",8),i.NdJ("incremented",function(){return i.CHM(t),i.oxw().incrementQuantity()})("decremented",function(){return i.CHM(t),i.oxw().decrementQuantity()}),i.qZA(),i.TgZ(11,"button",9),i.NdJ("click",function(){return i.CHM(t),i.oxw().addProductsToBasket()}),i._uU(12," Add to Cart "),i.qZA(),i.qZA(),i.TgZ(13,"div",10),i._uU(14),i.qZA(),i.qZA(),i.qZA()}if(2&t){const t=i.oxw();i.xp6(2),i.s9C("src",t.product.pictureUrl,i.LSH),i.s9C("alt",t.product.name),i.xp6(3),i.Oqu(t.product.name),i.xp6(2),i.hij(" ",i.lcZ(8,6,t.product.price)," "),i.xp6(3),i.Q6J("count",t.productCount),i.xp6(4),i.Oqu(t.product.description)}}let T=(()=>{class t{constructor(t,e,r,o){this.shopService=t,this.activatedRoute=e,this.bcService=r,this.basketService=o,this.productCount=1,this.bcService.set("@productDetails"," ")}ngOnInit(){this.loadProduct()}loadProduct(){const t=this.activatedRoute.snapshot.paramMap.get("id");this.shopService.getProduct(t?+t:0).subscribe(t=>{this.product=t,this.bcService.set("@productDetails",t.name)},t=>{console.error(t)})}incrementQuantity(){this.productCount++}decrementQuantity(){this.productCount--}addProductsToBasket(){this.basketService.addItemToBasket(this.product,this.productCount)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(v),i.Y36(n.gz),i.Y36(Z.pm),i.Y36(y.v))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-product-details"]],decls:1,vars:1,consts:[["class","grid grid-cols-4",4,"ngIf"],[1,"grid","grid-cols-4"],[1,"col-span-2"],[1,"bg-white","w-3/4","m-auto","rounded-md","shadow-xl",3,"src","alt"],[1,"col-start-3","col-span-2"],[1,"text-3xl","pb-4","border-b-2"],[1,"mt-4","px-2","py-1","text-green-800","font-medium","bg-green-100","rounded-full","inline-block"],[1,"flex","mt-4","items-center"],[3,"count","incremented","decremented"],[1,"ml-8","p-2","border","rounded-md","text-white","bg-indigo-600",3,"click"],[1,"mt-5"]],template:function(t,e){1&t&&i.YNc(0,w,15,8,"div",0),2&t&&i.Q6J("ngIf",e.product)},directives:[o.O5,b.$],pipes:[o.H9],styles:[""]}),t})();var P=r(1305);function k(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"strong"),i._uU(2),i.qZA(),i.BQk()),2&t){const t=i.oxw(2);i.xp6(2),i.hij(" ",t.totalCount," ")}}function A(t,e){if(1&t&&(i.TgZ(0,"strong"),i._uU(1),i.qZA()),2&t){const t=i.oxw(2);i.xp6(1),i.hij(" ",t.pageIndex*t.pageSize," ")}}function S(t,e){if(1&t&&(i.TgZ(0,"p"),i._uU(1," Showing "),i.TgZ(2,"strong"),i._uU(3),i.qZA(),i._uU(4," - "),i.YNc(5,k,3,1,"ng-container",2),i.YNc(6,A,2,1,"ng-template",null,3,i.W1O),i._uU(8," of "),i.TgZ(9,"strong"),i._uU(10),i.qZA(),i._uU(11," products "),i.qZA()),2&t){const t=i.MAs(7),e=i.oxw();i.xp6(3),i.Oqu((e.pageIndex-1)*e.pageSize+1),i.xp6(2),i.Q6J("ngIf",e.totalCount<e.pageSize*e.pageIndex)("ngIfElse",t),i.xp6(5),i.Oqu(e.totalCount)}}function q(t,e){1&t&&(i.TgZ(0,"p"),i._uU(1,"There are "),i.TgZ(2,"strong"),i._uU(3,"0"),i.qZA(),i._uU(4," results."),i.qZA())}let C=(()=>{class t{constructor(){this.totalCount=0,this.pageIndex=1,this.pageSize=1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-pagination-header"]],inputs:{totalCount:"totalCount",pageIndex:"pageIndex",pageSize:"pageSize"},decls:3,vars:2,consts:[[1,"flex","items-center"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["elseTemplate",""]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.YNc(1,S,12,4,"p",1),i.YNc(2,q,5,0,"p",1),i.qZA()),2&t&&(i.xp6(1),i.Q6J("ngIf",e.totalCount>0),i.xp6(1),i.Q6J("ngIf",0===e.totalCount))},directives:[o.O5],styles:[""]}),t})();var I=r(1462);let U=(()=>{class t{constructor(t){this.basketService=t,this.product=d}addItemToBasket(){this.basketService.addItemToBasket(this.product)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(y.v))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-product-item"]],inputs:{product:"product"},decls:29,vars:9,consts:[[1,"col-span-1","flex","flex-col","text-center","bg-white","rounded-lg","shadow-md","divide-y","divide-gray-200","h-80"],[1,"flex-1","flex","flex-col","p-8","pb-4"],[1,"w-32","h-32","flex-shrink-0","mx-auto","bg-gray-50","ring-2","ring-gray-200","ring-offset-4","rounded-full",3,"src","alt"],[3,"routerLink"],[1,"sr-only"],[1,"mt-6","text-gray-900","text-sm","font-medium","truncate",3,"title"],[1,"mt-1","flex-grow","flex","flex-col","justify-between"],[1,"mt-3"],[1,"px-2","py-1","text-green-800","font-medium","bg-green-100","rounded-full"],[1,"-mt-px","flex","divide-x","divide-gray-200"],[1,"w-0","flex-1","flex"],[1,"relative","-mr-px","w-0","flex-1","inline-flex","items-center","justify-center","py-4","text-sm","text-gray-700","font-medium","border","border-transparent","rounded-bl-lg","hover:text-gray-500",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"],[1,"ml-3"],[1,"-ml-px","w-0","flex-1","flex"],["href","#",1,"relative","w-0","flex-1","inline-flex","items-center","justify-center","py-4","text-sm","text-gray-700","font-medium","border","border-transparent","rounded-br-lg","hover:text-gray-500",3,"routerLink"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"]],template:function(t,e){1&t&&(i.TgZ(0,"li",0),i.TgZ(1,"div",1),i._UZ(2,"img",2),i.TgZ(3,"a",3),i.TgZ(4,"h3",4),i._uU(5,"Product Name"),i.qZA(),i.TgZ(6,"h3",5),i._uU(7),i.qZA(),i.qZA(),i.TgZ(8,"dl",6),i.TgZ(9,"dt",4),i._uU(10,"Product Price"),i.qZA(),i.TgZ(11,"dd",7),i.TgZ(12,"span",8),i._uU(13),i.ALo(14,"currency"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(15,"div"),i.TgZ(16,"div",9),i.TgZ(17,"div",10),i.TgZ(18,"button",11),i.NdJ("click",function(){return e.addItemToBasket()}),i.O4$(),i.TgZ(19,"svg",12),i._UZ(20,"path",13),i.qZA(),i.kcU(),i.TgZ(21,"span",14),i._uU(22,"Shop"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(23,"div",15),i.TgZ(24,"a",16),i.O4$(),i.TgZ(25,"svg",12),i._UZ(26,"path",17),i.qZA(),i.kcU(),i.TgZ(27,"span",14),i._uU(28,"View"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(2),i.s9C("src",e.product.pictureUrl,i.LSH),i.s9C("alt",e.product.name),i.xp6(1),i.MGl("routerLink","/shop/",e.product.id,""),i.xp6(3),i.s9C("title",e.product.name),i.xp6(1),i.hij(" ",e.product.name," "),i.xp6(6),i.hij(" ",i.lcZ(14,7,e.product.price)," "),i.xp6(11),i.MGl("routerLink","/shop/",e.product.id,""))},directives:[n.yS],pipes:[o.H9],styles:[""],changeDetection:0}),t})();function _(t,e){if(1&t){const t=i.EpF();i.O4$(),i.kcU(),i.TgZ(0,"li",12),i.NdJ("click",function(){const e=i.CHM(t).$implicit;return i.oxw().selectPage(e)}),i._uU(1),i.qZA()}if(2&t){const t=e.$implicit,r=i.oxw();i.ekj("active",t===r.pageIndex),i.xp6(1),i.hij(" ",t," ")}}let O=(()=>{class t{constructor(){this._totalCount=0,this._pageSize=1,this.pageIndex=1,this.pageSelected=new i.vpe,this.isOnFirstPage=!0,this.isOnLastPage=!1,this.pages=[],this.pageCount=0}set totalCount(t){t>=0&&(this._totalCount=t,this.updateState())}get totalCount(){return this._totalCount}set pageSize(t){t>0&&(this._pageSize=t,this.updateState())}get pageSize(){return this._pageSize}selectPage(t){this.pageSelected.emit(t),this.isOnFirstPage=1===t,this.isOnLastPage=t===this.pageCount}goToNextPage(){this.selectPage(this.pageIndex+1)}goToPrevPage(){this.selectPage(this.pageIndex-1)}updateState(){const t=Math.ceil(this._totalCount/this.pageSize);this.pages=new Array(t).fill(null).map((t,e)=>e+1),this.pageCount=this.pages.length,this.isOnFirstPage=1===this.pageIndex,this.isOnLastPage=this.pageIndex===this.pageCount}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-pagination"]],inputs:{totalCount:"totalCount",pageSize:"pageSize",pageIndex:"pageIndex"},outputs:{pageSelected:"pageSelected"},decls:19,vars:5,consts:[[1,"flex","items-center","justify-end"],[1,"flex-1","flex","justify-between","sm:hidden"],["href","#",1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","text-sm","font-medium","rounded-md","text-gray-700","bg-white","hover:text-gray-500"],["href","#",1,"ml-3","relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","text-sm","font-medium","rounded-md","text-gray-700","bg-white","hover:text-gray-500"],["aria-label","Pagination",1,"relative","z-0","hidden","sm:inline-flex","rounded-md","-space-x-px"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-l-md","border","border-gray-300","bg-white","text-sm","font-medium","text-gray-500","hover:bg-gray-50","cursor-pointer",3,"click"],[1,"sr-only"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5"],["fill-rule","evenodd","d","M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule","evenodd"],["class","relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 cursor-pointer",3,"active","click",4,"ngFor","ngForOf"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-r-md","border","border-gray-300","bg-white","text-sm","font-medium","text-gray-500","hover:bg-gray-50","cursor-pointer",3,"click"],["fill-rule","evenodd","d","M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule","evenodd"],[1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","bg-white","text-sm","font-medium","text-gray-700","hover:bg-gray-50","cursor-pointer",3,"click"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"a",2),i._uU(3," Previous "),i.qZA(),i.TgZ(4,"a",3),i._uU(5," Next "),i.qZA(),i.qZA(),i.TgZ(6,"div"),i.TgZ(7,"nav",4),i.TgZ(8,"li",5),i.NdJ("click",function(){return e.goToPrevPage()}),i.TgZ(9,"span",6),i._uU(10,"Previous"),i.qZA(),i.O4$(),i.TgZ(11,"svg",7),i._UZ(12,"path",8),i.qZA(),i.qZA(),i.YNc(13,_,2,3,"li",9),i.kcU(),i.TgZ(14,"li",10),i.NdJ("click",function(){return e.goToNextPage()}),i.TgZ(15,"span",6),i._uU(16,"Next"),i.qZA(),i.O4$(),i.TgZ(17,"svg",7),i._UZ(18,"path",11),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(8),i.ekj("disabled",e.isOnFirstPage),i.xp6(5),i.Q6J("ngForOf",e.pages),i.xp6(1),i.ekj("disabled",e.isOnLastPage))},directives:[o.sg],styles:[".active[_ngcontent-%COMP%]{--tw-border-opacity:1;border-color:rgba(79,70,229,var(--tw-border-opacity));--tw-bg-opacity:1;background-color:rgba(79,70,229,var(--tw-bg-opacity));color:rgba(255,255,255,var(--tw-text-opacity))}.active[_ngcontent-%COMP%], .disabled[_ngcontent-%COMP%]{--tw-text-opacity:1}.disabled[_ngcontent-%COMP%]{cursor:default;color:rgba(156,163,175,var(--tw-text-opacity))}.disabled[_ngcontent-%COMP%]:hover{--tw-bg-opacity:1;background-color:rgba(255,255,255,var(--tw-bg-opacity))}.disabled[_ngcontent-%COMP%]{pointer-events:none}"],changeDetection:0}),t})();function M(t,e){if(1&t&&(i.TgZ(0,"option",26),i._uU(1),i.qZA()),2&t){const t=e.$implicit,r=i.oxw(2).ngIf;i.Q6J("value",t.value)("selected",r.productParams.sort===t.value),i.xp6(1),i.hij(" ",t.name," ")}}function z(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"li",27),i.NdJ("click",function(){const e=i.CHM(t).$implicit;return i.oxw(3).onBrandSelected(e.id)}),i.TgZ(1,"span",28),i._uU(2),i.qZA(),i.qZA()}if(2&t){const t=e.$implicit,r=i.oxw(2).ngIf;i.ekj("active",r.productParams.brandId===t.id),i.Q6J("value",t.id),i.xp6(2),i.hij(" ",t.name," ")}}function J(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"li",29),i.NdJ("click",function(){const e=i.CHM(t).$implicit;return i.oxw(3).onTypeSelected(e.id)}),i.TgZ(1,"span",28),i._uU(2),i.qZA(),i.qZA()}if(2&t){const t=e.$implicit,r=i.oxw(2).ngIf;i.ekj("active",r.productParams.typeId===t.id),i.Q6J("value",t.id),i.xp6(2),i.hij(" ",t.name,"")}}function $(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",16),i.TgZ(1,"nav",17),i.TgZ(2,"div",18),i.TgZ(3,"h3",19),i._uU(4," Sort "),i.qZA(),i.TgZ(5,"div",20),i.TgZ(6,"select",21),i.NdJ("change",function(e){return i.CHM(t),i.oxw(2).onSortSelected(e)}),i.YNc(7,M,2,3,"option",22),i.qZA(),i.qZA(),i.qZA(),i.TgZ(8,"div",18),i.TgZ(9,"h3",19),i._uU(10," Brands "),i.qZA(),i.TgZ(11,"div",23),i.YNc(12,z,3,4,"li",24),i.qZA(),i.qZA(),i.TgZ(13,"div",18),i.TgZ(14,"h3",19),i._uU(15," Types "),i.qZA(),i.TgZ(16,"div",23),i.YNc(17,J,3,4,"li",25),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&t){const t=i.oxw(2);i.xp6(7),i.Q6J("ngForOf",t.sortOptions),i.xp6(5),i.Q6J("ngForOf",t.brands),i.xp6(5),i.Q6J("ngForOf",t.types)}}function j(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",30),i.NdJ("click",function(){return i.CHM(t),i.oxw(2).onReset()}),i.O4$(),i.TgZ(1,"svg",31),i._UZ(2,"path",32),i.qZA(),i.qZA()}}function N(t,e){1&t&&i._UZ(0,"app-product-item",33),2&t&&i.Q6J("product",e.$implicit)}function B(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"app-pagination",34),i.NdJ("pageSelected",function(e){return i.CHM(t),i.oxw(2).onPageChanged(e)}),i.qZA()}if(2&t){const t=i.oxw().ngIf;i.Q6J("totalCount",t.totalProductCount)("pageIndex",t.productParams.pageIndex)("pageSize",t.productParams.pageSize)}}const F=function(t){return{"placeholder-transparent":t}};function Q(t,e){if(1&t){const t=i.EpF();i.ynx(0),i.TgZ(1,"div",1),i.YNc(2,$,18,3,"div",2),i._UZ(3,"div",3),i._UZ(4,"app-pagination-header",4),i.TgZ(5,"div",5),i.TgZ(6,"label",6),i._uU(7,"Search"),i.qZA(),i.TgZ(8,"div",7),i.TgZ(9,"div",8),i.O4$(),i.TgZ(10,"svg",9),i._UZ(11,"path",10),i.qZA(),i.qZA(),i.kcU(),i.TgZ(12,"input",11),i.NdJ("ngModelChange",function(e){return i.CHM(t),i.oxw().searchTerm=e})("keyup.enter",function(){return i.CHM(t),i.oxw().onSearch()})("blur",function(e){return i.CHM(t),i.oxw().onSearchBoxBlur(e)}),i.qZA(),i.YNc(13,j,3,0,"div",12),i.qZA(),i.qZA(),i.TgZ(14,"ul",13),i.YNc(15,N,1,1,"app-product-item",14),i.qZA(),i.YNc(16,B,1,3,"app-pagination",15),i.qZA(),i.BQk()}if(2&t){const t=e.ngIf,r=i.oxw();i.xp6(2),i.Q6J("ngIf",r.types.length>0&&r.brands.length>0),i.xp6(2),i.Q6J("ngClass",i.VKq(12,F,t.productParams&&t.totalProductCount))("pageIndex",t.productParams.pageIndex)("pageSize",t.productParams.pageSize)("totalCount",t.totalProductCount),i.xp6(8),i.Q6J("ngModel",r.searchTerm),i.xp6(1),i.Q6J("ngIf",t.productParams.search),i.xp6(1),i.ekj("empty",0===t.totalProductCount),i.xp6(1),i.Q6J("ngForOf",t.products)("ngForTrackBy",r.trackByProductId),i.xp6(1),i.Q6J("ngIf",t.totalProductCount>0)}}const Y=[{path:"",component:(()=>{class t{constructor(t,e){this.shopService=t,this.ref=e,this.searchTerm="",this.brands=[],this.types=[],this.sortOptions=[{name:"Name: A to Z",value:"name"},{name:"Price: Low to High",value:"priceAsc"},{name:"Price: High to Low",value:"priceDesc"}],this.products$=this.shopService.products$,this.productParams$=this.shopService.productParams$,this.totalProductCount$=this.shopService.totalProductCount$,this.vm$=(0,P.aj)([this.products$,this.productParams$,this.totalProductCount$]).pipe((0,m.U)(t=>({products:t[0],productParams:t[1],totalProductCount:t[2]}))),this.brands=this.shopService.brands,this.types=this.shopService.types}ngOnInit(){this.getBrands(),this.getTypes()}getBrands(){this.shopService.getBrands().subscribe(t=>{this.brands=[{id:0,name:"All"},...t],this.ref.markForCheck()},t=>{console.error(t)})}getTypes(){this.shopService.getTypes().subscribe(t=>{this.types=[{id:0,name:"All"},...t],this.ref.markForCheck()},t=>{console.error(t)})}onBrandSelected(t){this.shopService.updateProductParams({brandId:t,pageIndex:1})}onTypeSelected(t){this.shopService.updateProductParams({typeId:t})}onSortSelected(t){this.shopService.updateProductParams({sort:t.target.value})}onPageChanged(t){this.shopService.updateProductParams({pageIndex:t})}onSearch(){this.shopService.updateProductParams({search:this.searchTerm,pageIndex:1})}onReset(){this.searchTerm="",this.shopService.updateProductParams({search:""})}onSearchBoxBlur(t){t.target.value||this.shopService.updateProductParams({search:"",pageIndex:1})}trackByProductId(t,e){return e.id}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(v),i.Y36(i.sBO))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-shop"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"grid","grid-cols-1","gap-6","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4"],["class","row-start-2 row-span-1",4,"ngIf"],[1,"placeholder-transparent"],[1,"col-start-2","sm:col-span-1","md:col-span-1","lg:col-span-2","flex",3,"ngClass","pageIndex","pageSize","totalCount"],[1,"max-w-lg","w-full","lg:max-w-xs"],["for","search",1,"sr-only"],[1,"relative","text-gray-400","focus-within:text-gray-500"],[1,"pointer-events-none","absolute","inset-y-0","left-0","pl-3","flex","items-center"],["x-description","Heroicon name: solid/search","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5"],["fill-rule","evenodd","d","M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule","evenodd"],["id","search","placeholder","Search","type","search","name","search",1,"block","w-full","bg-white","py-2","pl-10","pr-3","border","border-gray-300","rounded-md","leading-5","text-gray-900","placeholder-gray-500","focus:outline-none","focus:ring-1","focus:ring-purple-500","focus:border-purple-500","focus:placeholder-gray-500","sm:text-sm",3,"ngModel","ngModelChange","keyup.enter","blur"],["class","absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer",3,"click",4,"ngIf"],[1,"col-start-2","row-start-2","col-span-3","grid","gap-6","sm:grid-cols-1","md:grid-cols-2","lg:grid-cols-3"],[3,"product",4,"ngFor","ngForOf","ngForTrackBy"],["class","col-start-2 col-span-3",3,"totalCount","pageIndex","pageSize","pageSelected",4,"ngIf"],[1,"row-start-2","row-span-1"],["aria-label","Sidebar",1,"px-2","py-5","space-y-8","sticky","top-24","bg-white","rounded-lg","shadow-md"],[1,"space-y-1"],["id","projects-headline",1,"px-3","mb-1","text-sm","font-semibold","text-indigo-700","uppercase","tracking-wider"],["role","group","aria-labelledby","projects-headline",1,"space-y-1","flex","flex-row"],["id","sort","name","sort",1,"flex-1","mx-3","my-2","block","w-auto","pl-3","pr-10","py-2","text-base","border-gray-300","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm","rounded-md",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],["role","group","aria-labelledby","projects-headline",1,"space-y-1"],["class","group flex items-center px-3 py-2 text-sm font-medium text-gray-600 rounded-md hover:text-gray-900 hover:bg-gray-50 cursor-pointer",3,"active","value","click",4,"ngFor","ngForOf"],["href","#","class","group flex items-center px-3 py-2 text-sm font-medium text-gray-600 rounded-md hover:text-gray-900 hover:bg-gray-50 cursor-pointer",3,"active","value","click",4,"ngFor","ngForOf"],[3,"value","selected"],[1,"group","flex","items-center","px-3","py-2","text-sm","font-medium","text-gray-600","rounded-md","hover:text-gray-900","hover:bg-gray-50","cursor-pointer",3,"value","click"],[1,"truncate"],["href","#",1,"group","flex","items-center","px-3","py-2","text-sm","font-medium","text-gray-600","rounded-md","hover:text-gray-900","hover:bg-gray-50","cursor-pointer",3,"value","click"],[1,"absolute","inset-y-0","right-0","pr-3","flex","items-center","cursor-pointer",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6","transition-all","duration-500","ease-in-out"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[3,"product"],[1,"col-start-2","col-span-3",3,"totalCount","pageIndex","pageSize","pageSelected"]],template:function(t,e){1&t&&(i.YNc(0,Q,17,14,"ng-container",0),i.ALo(1,"async")),2&t&&i.Q6J("ngIf",i.lcZ(1,1,e.vm$))},directives:[o.O5,C,o.mk,I.Fj,I.JJ,I.On,o.sg,I.YN,I.Kr,U,O],pipes:[o.Ov],styles:[".active[_ngcontent-%COMP%]{--tw-bg-opacity:1;background-color:rgba(79,70,229,var(--tw-bg-opacity));--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}.empty[_ngcontent-%COMP%]{border-radius:.5rem;--tw-border-opacity:1;border:4px dashed rgba(229,231,235,var(--tw-border-opacity))}"]}),t})()},{path:":id",component:T,data:{breadcrumb:{alias:"productDetails"}}}];let H=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[n.Bz.forChild(Y)],n.Bz]}),t})();var L=r(5425);let E=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[o.ez,H,L.m,I.u5]]}),t})()}}]);