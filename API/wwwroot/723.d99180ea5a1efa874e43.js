(self.webpackChunkclient=self.webpackChunkclient||[]).push([[723],{6723:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AccountModule:()=>w});var i=r(1116),s=r(5424),o=r(1462),n=r(8619),l=r(9302),a=r(2118),c=r(162);let u=(()=>{class e{constructor(e,t,r,i){this.accountService=e,this.router=t,this.route=r,this.toastService=i,this.returnUrl=""}ngOnInit(){this.returnUrl=this.route.snapshot.queryParams.returnUrl||"",this.createLoginForm()}createLoginForm(){this.loginForm=new o.cw({email:new o.NI("",[o.kI.required,o.kI.pattern("^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$")]),password:new o.NI("",o.kI.required)})}onSubmit(){this.accountService.login(this.loginForm.value).subscribe(()=>{this.router.navigateByUrl(this.returnUrl),this.toastService.success("Logged in successfully!")},e=>{})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(l.B),n.Y36(s.F0),n.Y36(s.gz),n.Y36(a.jE))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-login"]],decls:13,vars:5,consts:[[1,"flex","items-center","justify-center","py-12","px-4","sm:px-6","lg:px-8"],[1,"max-w-md","w-full","space-y-8"],["aria-hidden","true","focusable","false","data-prefix","fas","data-icon","skiing","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512","data-ember-extension","1",1,"block","h-20","w-auto","mx-auto"],["fill","#4f46e5","d","M432 96c26.5 0 48-21.5 48-48S458.5 0 432 0s-48 21.5-48 48 21.5 48 48 48zm73 356.1c-9.4-9.4-24.6-9.4-33.9 0-12.1 12.1-30.5 15.4-45.1 8.7l-135.8-70.2 49.2-73.8c12.7-19 10.2-44.5-6-60.6L293 215.7l-107-53.1c-2.9 19.9 3.4 40 17.7 54.4l75.1 75.2-45.9 68.8L35 258.7c-11.7-6-26.2-1.5-32.3 10.3-6.1 11.8-1.5 26.3 10.3 32.3l391.9 202.5c11.9 5.5 24.5 8.1 37.1 8.1 23.2 0 46-9 63-26 9.3-9.3 9.3-24.5 0-33.8zM120 91.6l-11.5 22.5c14.4 7.3 31.2 4.9 42.8-4.8l47.2 23.4c-.1.1-.1.2-.2.3l114.5 56.8 32.4-13 6.4 19.1c4 12.1 12.6 22 24 27.7l58.1 29c15.9 7.9 35 1.5 42.9-14.3 7.9-15.8 1.5-35-14.3-42.9l-52.1-26.1-17.1-51.2c-8.1-24.2-40.9-56.6-84.5-39.2l-81.2 32.5-62.5-31c.3-14.5-7.2-28.6-20.9-35.6l-11.1 21.7h-.2l-34.4-7c-1.8-.4-3.7.2-5 1.7-1.9 2.2-1.7 5.5.5 7.4l26.2 23z"],[1,"mt-6","text-center","text-3xl","font-extrabold","text-gray-900"],["method","POST",1,"mt-8","space-y-6",3,"formGroup","ngSubmit"],["formControlName","email",3,"label","type"],["formControlName","password",3,"label","type"],["type","submit",1,"w-full","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div"),n.O4$(),n.TgZ(3,"svg",2),n._UZ(4,"path",3),n.qZA(),n.kcU(),n.TgZ(5,"h2",4),n._uU(6,"Login"),n.qZA(),n.qZA(),n.TgZ(7,"form",5),n.NdJ("ngSubmit",function(){return t.onSubmit()}),n._UZ(8,"app-text-input",6),n._UZ(9,"app-text-input",7),n.TgZ(10,"div"),n.TgZ(11,"button",8),n._uU(12," Sign in "),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(7),n.Q6J("formGroup",t.loginForm),n.xp6(1),n.Q6J("label","Email Address")("type","email"),n.xp6(1),n.Q6J("label","Password")("type","password"))},directives:[o._Y,o.JL,o.sg,c.t,o.JJ,o.u],styles:[""]}),e})();var p=r(2132),m=r(878),g=r(4689),d=r(9996);function f(e,t){if(1&e&&(n.TgZ(0,"li",11),n._uU(1),n.qZA()),2&e){const e=t.$implicit;n.xp6(1),n.Oqu(e)}}const h=[{path:"login",component:u},{path:"register",component:(()=>{class e{constructor(e,t,r,i){this.fb=e,this.accountService=t,this.router=r,this.toastService=i,this.errors=[]}ngOnInit(){this.createRegisterForm()}createRegisterForm(){this.registerForm=this.fb.group({displayName:[null,[o.kI.required]],email:[null,[o.kI.required,o.kI.pattern("^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$")],[this.validateEmailNotTaken()]],password:[null,[o.kI.required]]})}onSubmit(){this.accountService.register(this.registerForm.value).subscribe(()=>{this.router.navigateByUrl("/shop"),this.toastService.success("Registered successfully!")},e=>{this.errors=e.errors,console.error(e)})}validateEmailNotTaken(){return e=>(0,p.H)(500).pipe((0,g.w)(()=>e.value?this.accountService.checkEmailExists(e.value).pipe((0,d.U)(e=>e?{emailExists:!0}:null)):(0,m.of)(null)))}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(o.qu),n.Y36(l.B),n.Y36(s.F0),n.Y36(a.jE))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-register"]],decls:16,vars:7,consts:[[1,"flex","items-center","justify-center","py-12","px-4","sm:px-6","lg:px-8"],[1,"max-w-md","w-full","space-y-8"],["aria-hidden","true","focusable","false","data-prefix","fas","data-icon","skiing","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512","data-ember-extension","1",1,"block","h-20","w-auto","mx-auto"],["fill","#4f46e5","d","M432 96c26.5 0 48-21.5 48-48S458.5 0 432 0s-48 21.5-48 48 21.5 48 48 48zm73 356.1c-9.4-9.4-24.6-9.4-33.9 0-12.1 12.1-30.5 15.4-45.1 8.7l-135.8-70.2 49.2-73.8c12.7-19 10.2-44.5-6-60.6L293 215.7l-107-53.1c-2.9 19.9 3.4 40 17.7 54.4l75.1 75.2-45.9 68.8L35 258.7c-11.7-6-26.2-1.5-32.3 10.3-6.1 11.8-1.5 26.3 10.3 32.3l391.9 202.5c11.9 5.5 24.5 8.1 37.1 8.1 23.2 0 46-9 63-26 9.3-9.3 9.3-24.5 0-33.8zM120 91.6l-11.5 22.5c14.4 7.3 31.2 4.9 42.8-4.8l47.2 23.4c-.1.1-.1.2-.2.3l114.5 56.8 32.4-13 6.4 19.1c4 12.1 12.6 22 24 27.7l58.1 29c15.9 7.9 35 1.5 42.9-14.3 7.9-15.8 1.5-35-14.3-42.9l-52.1-26.1-17.1-51.2c-8.1-24.2-40.9-56.6-84.5-39.2l-81.2 32.5-62.5-31c.3-14.5-7.2-28.6-20.9-35.6l-11.1 21.7h-.2l-34.4-7c-1.8-.4-3.7.2-5 1.7-1.9 2.2-1.7 5.5.5 7.4l26.2 23z"],[1,"mt-6","text-center","text-3xl","font-extrabold","text-gray-900"],["method","POST",1,"mt-8","space-y-6",3,"formGroup","ngSubmit"],["formControlName","displayName",3,"label"],["formControlName","email",3,"label","type"],["formControlName","password",3,"label","type"],["class","text-sm text-red-600",4,"ngFor","ngForOf"],["type","submit",1,"w-full","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","disabled:cursor-auto","disabled:bg-indigo-300"],[1,"text-sm","text-red-600"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div"),n.O4$(),n.TgZ(3,"svg",2),n._UZ(4,"path",3),n.qZA(),n.kcU(),n.TgZ(5,"h2",4),n._uU(6,"Register"),n.qZA(),n.qZA(),n.TgZ(7,"form",5),n.NdJ("ngSubmit",function(){return t.onSubmit()}),n._UZ(8,"app-text-input",6),n._UZ(9,"app-text-input",7),n._UZ(10,"app-text-input",8),n.TgZ(11,"ul"),n.YNc(12,f,2,1,"li",9),n.qZA(),n.TgZ(13,"div"),n.TgZ(14,"button",10),n._uU(15," Register "),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(7),n.Q6J("formGroup",t.registerForm),n.xp6(1),n.Q6J("label","Display Name"),n.xp6(1),n.Q6J("label","Email Address")("type","email"),n.xp6(1),n.Q6J("label","Password")("type","password"),n.xp6(2),n.Q6J("ngForOf",t.errors))},directives:[o._Y,o.JL,o.sg,c.t,o.JJ,o.u,i.sg],styles:[""]}),e})()}];let x=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[s.Bz.forChild(h)],s.Bz]}),e})();var b=r(5425);let w=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[i.ez,x,b.m]]}),e})()}}]);