{"version":3,"sources":["./src/app/basket/basket.component.html","./src/app/basket/basket-routing.module.ts","./src/app/basket/basket.component.ts","./src/app/basket/basket.module.ts"],"names":["routes","path","component","BasketComponent","basketService","checkoutService","this","basketCount$","basketItemCount$","basketItems$","orderSummary$","loadExternalScripts","then","catch","item","incrementBasketItem","decrementBasketItem","removeBasketItem","scriptUrl","Promise","resolve","scriptElement","document","createElement","src","onload","body","appendChild","decrementItemCount","incrementItemCount","removeItem","BasketRoutingModule","BasketModule"],"mappings":"qOAMA,iBACE,8BACF,S,qBADoB,iDCHpB,MAAMA,EAAiB,CACrB,CACEC,KAAM,GACNC,UCKG,M,MAAMC,EAKX,YAAoBC,EAAsCC,GAAtC,KAAAD,gBAAsC,KAAAC,kBACxDC,KAAKC,aAAeD,KAAKF,cAAcI,iBACvCF,KAAKG,aAAeH,KAAKF,cAAcK,aACvCH,KAAKI,cAAgBJ,KAAKD,gBAAgBK,cAE1CJ,KAAKK,oBAAoB,6BACtBC,KAAK,QACLC,MAAM,QAGX,mBAAmBC,GACjBR,KAAKF,cAAcW,oBAAoBD,GAGzC,mBAAmBA,GACjBR,KAAKF,cAAcY,oBAAoBF,GAGzC,WAAWA,GACTR,KAAKF,cAAca,iBAAiBH,GAG9B,oBAAoBI,GAC1B,OAAO,IAAIC,QAASC,IAClB,MAAMC,EAAgBC,SAASC,cAAc,UAC7CF,EAAcG,IAAMN,EACpBG,EAAcI,OAASL,EACvBE,SAASI,KAAKC,YAAYN,M,6CAhCnBlB,GAAe,wB,wBAAfA,EAAe,4OFZ5B,gCAEE,uCAAe,EAAAyB,mBAAA,IAAf,CAA0C,iCAC3B,EAAAC,mBAAA,IADf,CAA0C,6BAE/B,EAAAC,WAAA,KACZ,QACD,uB,wBALE,+BAKkC,uD,wDEM7B,KDGA,Y,MAAMC,G,6CAAAA,I,wBAAAA,I,4BAHF,CAAC,cAAsB/B,IACtB,Q,GAEL,G,cEJA,Y,MAAMgC,G,6CAAAA,I,wBAAAA,I,4BAFF,CAAC,KAAcD,EAAqB,Q,GAExC","file":"891.f2d59099d562a16d96ac.js","sourcesContent":["<app-basket-summary\r\n  [items$]=\"basketItems$\"\r\n  (decremented)=\"decrementItemCount($event)\"\r\n  (incremented)=\"incrementItemCount($event)\"\r\n  (removed)=\"removeItem($event)\"\r\n></app-basket-summary>\r\n<div class=\"flex justify-end mt-6\" *ngIf=\"(basketCount$ | async) !== 0\">\r\n  <app-order-totals [orderSummary$]=\"orderSummary$\" class=\"w-1/2\"></app-order-totals>\r\n</div>\r\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { BasketComponent } from './basket.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: BasketComponent,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class BasketRoutingModule {}\n","import { Component } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { CheckoutService } from '../checkout/checkout.service';\r\nimport { IBasket, IBasketItem } from '../shared/models/basket.model';\r\nimport { IOrderSummary } from '../shared/models/order.model';\r\nimport { BasketService } from './basket.service';\r\n\r\n@Component({\r\n  selector: 'app-basket',\r\n  templateUrl: './basket.component.html',\r\n  styleUrls: ['./basket.component.scss'],\r\n})\r\nexport class BasketComponent {\r\n  basketCount$: Observable<number>;\r\n  basketItems$: Observable<IBasketItem[]>;\r\n  orderSummary$: Observable<IOrderSummary>;\r\n\r\n  constructor(private basketService: BasketService, private checkoutService: CheckoutService) {\r\n    this.basketCount$ = this.basketService.basketItemCount$;\r\n    this.basketItems$ = this.basketService.basketItems$;\r\n    this.orderSummary$ = this.checkoutService.orderSummary$;\r\n\r\n    this.loadExternalScripts('https://js.stripe.com/v3/')\r\n      .then(() => {})\r\n      .catch(() => {});\r\n  }\r\n\r\n  incrementItemCount(item: IBasketItem) {\r\n    this.basketService.incrementBasketItem(item);\r\n  }\r\n\r\n  decrementItemCount(item: IBasketItem) {\r\n    this.basketService.decrementBasketItem(item);\r\n  }\r\n\r\n  removeItem(item: IBasketItem) {\r\n    this.basketService.removeBasketItem(item);\r\n  }\r\n\r\n  private loadExternalScripts(scriptUrl: string) {\r\n    return new Promise((resolve) => {\r\n      const scriptElement = document.createElement('script');\r\n      scriptElement.src = scriptUrl;\r\n      scriptElement.onload = resolve;\r\n      document.body.appendChild(scriptElement);\r\n    });\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { BasketRoutingModule } from './basket-routing.module';\r\nimport { BasketComponent } from './basket.component';\r\nimport { SharedModule } from '../shared/shared.module';\r\n\r\n@NgModule({\r\n  declarations: [BasketComponent],\r\n  imports: [CommonModule, BasketRoutingModule, SharedModule],\r\n})\r\nexport class BasketModule {}\r\n"],"sourceRoot":"webpack:///"}