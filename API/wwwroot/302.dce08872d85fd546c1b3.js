(self.webpackChunkclient=self.webpackChunkclient||[]).push([[302],{8546:(e,t,r)=>{"use strict";r.d(t,{$:()=>n});var o=r(8619);let n=(()=>{class e{constructor(){this.count=0,this.incremented=new o.vpe,this.decremented=new o.vpe}handleIncrement(){this.incremented.emit(!0)}handleDecrement(){this.decremented.emit(!0)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-quantity-count"]],inputs:{count:"count"},outputs:{incremented:"incremented",decremented:"decremented"},decls:9,vars:3,consts:[[1,"flex","items-center"],[1,"cursor-pointer","disabled:cursor-default","disabled:pointer-events-none",3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","stroke","white",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"mx-2","w-4","flex","justify-center"],[1,"cursor-pointer","disabled:cursor-default","disabled:pointer-events-none",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","#4f46e5","stroke","white",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"button",1),o.NdJ("click",function(){return t.handleDecrement()}),o.O4$(),o.TgZ(2,"svg",2),o._UZ(3,"path",3),o.qZA(),o.qZA(),o.kcU(),o.TgZ(4,"span",4),o._uU(5),o.qZA(),o.TgZ(6,"button",5),o.NdJ("click",function(){return t.handleIncrement()}),o.O4$(),o.TgZ(7,"svg",6),o._UZ(8,"path",7),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(1),o.Q6J("disabled",1===t.count),o.xp6(1),o.uIk("fill",1===t.count?"#818CF8":"#4f46e5"),o.xp6(3),o.hij(" ",t.count," "))},encapsulation:2,changeDetection:0}),e})()},2302:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ShopModule:()=>Y});var o=r(1116),n=r(5424),i=r(8619),s=r(2693),a=r(8512),c=r(878);const d={id:0,name:"",description:"",price:-1,pictureUrl:"",productType:"",productBrand:""};var p=r(6673);class u{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new l(e,this.compare,this.keySelector))}}class l extends p.L{constructor(e,t,r){super(e),this.keySelector=r,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:r}=this;t=r?r(e):e}catch(o){return this.destination.error(o)}let r=!1;if(this.hasKey)try{const{compare:e}=this;r=e(this.key,t)}catch(o){return this.destination.error(o)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}var g=r(6599),h=r(4689),m=r(9996);class x{constructor(){this.brandId=0,this.typeId=0,this.sort="name",this.pageIndex=1,this.pageSize=6,this.search=""}}var f=r(529);let v=(()=>{class e{constructor(e){var t;this.http=e,this.baseUrl=f.N.apiUrl,this.cacheKey="",this.productParams=new a.X(new x),this.productParams$=this.productParams.asObservable().pipe((t=(e,t)=>this.isParamsEqual(e,t),e=>e.lift(new u(t,void 0))),(0,g.b)(e=>{this.cacheKey=Object.values(e).join("-")})),this.totalProductCount=new a.X(0),this.totalProductCount$=this.totalProductCount.asObservable(),this.products=new Map,this.products$=this.productParams$.pipe((0,h.w)(()=>{const e=this.products.get(this.cacheKey);return e?(this.totalProductCount.next(e.count),(0,c.of)(e.data)):this.getProducts()})),this.brands=new a.X([]),this.brands$=this.brands.asObservable(),this.types=new a.X([]),this.types$=this.types.asObservable()}getProducts(){let e=new s.LE;return this.productParams.value.brandId&&(e=e.set("brandId",this.productParams.value.brandId.toString())),this.productParams.value.typeId&&(e=e.set("typeId",this.productParams.value.typeId.toString())),this.productParams.value.search&&(e=e.set("search",this.productParams.value.search.toString())),e=e.set("sort",this.productParams.value.sort),e=e.set("pageIndex",this.productParams.value.pageIndex.toString()),e=e.set("pageSize",this.productParams.value.pageSize.toString()),this.http.get(`${this.baseUrl}/products`,{params:e}).pipe((0,m.U)(e=>(this.totalProductCount.next(e.count),this.products.set(this.cacheKey,e),e.data)))}getProduct(e){const t=this.products.get(this.cacheKey);if(t){const r=t.data.find(t=>t.id===e);return r?(0,c.of)(r):this.http.get(`${this.baseUrl}/products/${e}`)}return(0,c.of)(d)}getBrands(){return this.http.get(`${this.baseUrl}/products/brands`).pipe((0,m.U)(e=>this.brands.next([{id:0,name:"All"},...e])))}getTypes(){return this.http.get(`${this.baseUrl}/products/types`).pipe((0,m.U)(e=>this.types.next([{id:0,name:"All"},...e])))}updateProductParams(e){const t=Object.assign(Object.assign({},this.productParams.value),e);this.productParams.next(t)}isParamsEqual(e,t){return e.brandId===t.brandId&&e.pageIndex===t.pageIndex&&e.pageSize===t.pageSize&&e.search===t.search&&e.sort===t.sort&&e.typeId===t.typeId}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(s.eN))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Z=r(1630),y=r(3241),b=r(8546);function w(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"div",1),i.TgZ(1,"div",2),i._UZ(2,"img",3),i.qZA(),i.TgZ(3,"div",4),i.TgZ(4,"h3",5),i._uU(5),i.qZA(),i.TgZ(6,"p",6),i._uU(7),i.ALo(8,"currency"),i.qZA(),i.TgZ(9,"div",7),i.TgZ(10,"app-quantity-count",8),i.NdJ("incremented",function(){return i.CHM(e),i.oxw().incrementQuantity()})("decremented",function(){return i.CHM(e),i.oxw().decrementQuantity()}),i.qZA(),i.TgZ(11,"button",9),i.NdJ("click",function(){return i.CHM(e),i.oxw().addProductsToBasket()}),i._uU(12," Add to Cart "),i.qZA(),i.qZA(),i.TgZ(13,"div",10),i._uU(14),i.qZA(),i.qZA(),i.qZA()}if(2&e){const e=i.oxw();i.xp6(2),i.s9C("src",e.product.pictureUrl,i.LSH),i.s9C("alt",e.product.name),i.xp6(3),i.Oqu(e.product.name),i.xp6(2),i.hij(" ",i.lcZ(8,6,e.product.price)," "),i.xp6(3),i.Q6J("count",e.productCount),i.xp6(4),i.Oqu(e.product.description)}}let P=(()=>{class e{constructor(e,t,r,o){this.shopService=e,this.activatedRoute=t,this.bcService=r,this.basketService=o,this.productCount=1,this.bcService.set("@productDetails"," ")}ngOnInit(){this.loadProduct()}loadProduct(){const e=this.activatedRoute.snapshot.paramMap.get("id");this.shopService.getProduct(e?+e:0).subscribe(e=>{this.product=e,this.bcService.set("@productDetails",e.name)},e=>{console.error(e)})}incrementQuantity(){this.productCount++}decrementQuantity(){this.productCount--}addProductsToBasket(){this.basketService.addItemToBasket(this.product,this.productCount)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(v),i.Y36(n.gz),i.Y36(Z.pm),i.Y36(y.v))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-product-details"]],decls:1,vars:1,consts:[["class","grid grid-cols-4",4,"ngIf"],[1,"grid","grid-cols-4"],[1,"col-span-2"],[1,"bg-white","w-3/4","m-auto","rounded-md","shadow-xl",3,"src","alt"],[1,"col-start-3","col-span-2"],[1,"text-3xl","pb-4","border-b-2"],[1,"mt-4","px-2","py-1","text-green-800","font-medium","bg-green-100","rounded-full","inline-block"],[1,"flex","mt-4","items-center"],[3,"count","incremented","decremented"],[1,"ml-8","p-2","border","rounded-md","text-white","bg-indigo-600",3,"click"],[1,"mt-5"]],template:function(e,t){1&e&&i.YNc(0,w,15,8,"div",0),2&e&&i.Q6J("ngIf",t.product)},directives:[o.O5,b.$],pipes:[o.H9],styles:[""]}),e})();var T=r(1305);function k(e,t){if(1&e&&(i.ynx(0),i.TgZ(1,"strong"),i._uU(2),i.qZA(),i.BQk()),2&e){const e=i.oxw(2);i.xp6(2),i.hij(" ",e.totalCount," ")}}function A(e,t){if(1&e&&(i.TgZ(0,"strong"),i._uU(1),i.qZA()),2&e){const e=i.oxw(2);i.xp6(1),i.hij(" ",e.pageIndex*e.pageSize," ")}}function q(e,t){if(1&e&&(i.TgZ(0,"p"),i._uU(1," Showing "),i.TgZ(2,"strong"),i._uU(3),i.qZA(),i._uU(4," - "),i.YNc(5,k,3,1,"ng-container",2),i.YNc(6,A,2,1,"ng-template",null,3,i.W1O),i._uU(8," of "),i.TgZ(9,"strong"),i._uU(10),i.qZA(),i._uU(11," products "),i.qZA()),2&e){const e=i.MAs(7),t=i.oxw();i.xp6(3),i.Oqu((t.pageIndex-1)*t.pageSize+1),i.xp6(2),i.Q6J("ngIf",t.totalCount<t.pageSize*t.pageIndex)("ngIfElse",e),i.xp6(5),i.Oqu(t.totalCount)}}function S(e,t){1&e&&(i.TgZ(0,"p"),i._uU(1,"There are "),i.TgZ(2,"strong"),i._uU(3,"0"),i.qZA(),i._uU(4," results."),i.qZA())}let C=(()=>{class e{constructor(){this.totalCount=0,this.pageIndex=1,this.pageSize=1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-pagination-header"]],inputs:{totalCount:"totalCount",pageIndex:"pageIndex",pageSize:"pageSize"},decls:3,vars:2,consts:[[1,"flex","items-center"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["elseTemplate",""]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i.YNc(1,q,12,4,"p",1),i.YNc(2,S,5,0,"p",1),i.qZA()),2&e&&(i.xp6(1),i.Q6J("ngIf",t.totalCount>0),i.xp6(1),i.Q6J("ngIf",0===t.totalCount))},directives:[o.O5],styles:[""]}),e})();function I(e,t){if(1&e){const e=i.EpF();i.O4$(),i.kcU(),i.TgZ(0,"li",12),i.NdJ("click",function(){const t=i.CHM(e).$implicit;return i.oxw().selectPage(t)}),i._uU(1),i.qZA()}if(2&e){const e=t.$implicit,r=i.oxw();i.ekj("active",e===r.pageIndex),i.xp6(1),i.hij(" ",e," ")}}let U=(()=>{class e{constructor(){this._totalCount=0,this._pageSize=1,this.pageIndex=1,this.pageSelected=new i.vpe,this.isOnFirstPage=!0,this.isOnLastPage=!1,this.pages=[],this.pageCount=0}set totalCount(e){e>=0&&(this._totalCount=e,this.updateState())}get totalCount(){return this._totalCount}set pageSize(e){e>0&&(this._pageSize=e,this.updateState())}get pageSize(){return this._pageSize}selectPage(e){this.pageSelected.emit(e),this.isOnFirstPage=1===e,this.isOnLastPage=e===this.pageCount}goToNextPage(){this.selectPage(this.pageIndex+1)}goToPrevPage(){this.selectPage(this.pageIndex-1)}updateState(){const e=Math.ceil(this._totalCount/this.pageSize);this.pages=new Array(e).fill(null).map((e,t)=>t+1),this.pageCount=this.pages.length,this.isOnFirstPage=1===this.pageIndex,this.isOnLastPage=this.pageIndex===this.pageCount||0===this.pageCount}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-pagination"]],inputs:{totalCount:"totalCount",pageSize:"pageSize",pageIndex:"pageIndex"},outputs:{pageSelected:"pageSelected"},decls:19,vars:5,consts:[[1,"flex","items-center","justify-end"],[1,"flex-1","flex","justify-between","sm:hidden"],["href","#",1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","text-sm","font-medium","rounded-md","text-gray-700","bg-white","hover:text-gray-500"],["href","#",1,"ml-3","relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","text-sm","font-medium","rounded-md","text-gray-700","bg-white","hover:text-gray-500"],["aria-label","Pagination",1,"relative","z-0","hidden","sm:inline-flex","rounded-md","-space-x-px"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-l-md","border","border-gray-300","bg-white","text-sm","font-medium","text-gray-500","hover:bg-gray-50","cursor-pointer",3,"click"],[1,"sr-only"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5"],["fill-rule","evenodd","d","M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule","evenodd"],["class","relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 cursor-pointer",3,"active","click",4,"ngFor","ngForOf"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-r-md","border","border-gray-300","bg-white","text-sm","font-medium","text-gray-500","hover:bg-gray-50","cursor-pointer",3,"click"],["fill-rule","evenodd","d","M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule","evenodd"],[1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","bg-white","text-sm","font-medium","text-gray-700","hover:bg-gray-50","cursor-pointer",3,"click"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"a",2),i._uU(3," Previous "),i.qZA(),i.TgZ(4,"a",3),i._uU(5," Next "),i.qZA(),i.qZA(),i.TgZ(6,"div"),i.TgZ(7,"nav",4),i.TgZ(8,"li",5),i.NdJ("click",function(){return t.goToPrevPage()}),i.TgZ(9,"span",6),i._uU(10,"Previous"),i.qZA(),i.O4$(),i.TgZ(11,"svg",7),i._UZ(12,"path",8),i.qZA(),i.qZA(),i.YNc(13,I,2,3,"li",9),i.kcU(),i.TgZ(14,"li",10),i.NdJ("click",function(){return t.goToNextPage()}),i.TgZ(15,"span",6),i._uU(16,"Next"),i.qZA(),i.O4$(),i.TgZ(17,"svg",7),i._UZ(18,"path",11),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.xp6(8),i.ekj("disabled",t.isOnFirstPage),i.xp6(5),i.Q6J("ngForOf",t.pages),i.xp6(1),i.ekj("disabled",t.isOnLastPage))},directives:[o.sg],styles:[".active[_ngcontent-%COMP%]{--tw-border-opacity:1;border-color:rgba(79,70,229,var(--tw-border-opacity));--tw-bg-opacity:1;background-color:rgba(79,70,229,var(--tw-bg-opacity));color:rgba(255,255,255,var(--tw-text-opacity))}.active[_ngcontent-%COMP%], .disabled[_ngcontent-%COMP%]{--tw-text-opacity:1}.disabled[_ngcontent-%COMP%]{cursor:default;color:rgba(156,163,175,var(--tw-text-opacity))}.disabled[_ngcontent-%COMP%]:hover{--tw-bg-opacity:1;background-color:rgba(255,255,255,var(--tw-bg-opacity))}.disabled[_ngcontent-%COMP%]{pointer-events:none}[_nghost-%COMP%]{display:block}"],changeDetection:0}),e})();var _=r(1462);let O=(()=>{class e{constructor(e){this.basketService=e,this.product=d}addItemToBasket(){this.basketService.addItemToBasket(this.product)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(y.v))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-product-item"]],inputs:{product:"product"},decls:29,vars:9,consts:[[1,"col-span-1","flex","flex-col","text-center","bg-white","rounded-lg","shadow-md","divide-y","divide-gray-200","h-80"],[1,"flex-1","flex","flex-col","p-8","pb-4"],[1,"w-32","h-32","flex-shrink-0","mx-auto","bg-gray-50","ring-2","ring-gray-200","ring-offset-4","rounded-full",3,"src","alt"],[3,"routerLink"],[1,"sr-only"],[1,"mt-6","text-gray-900","text-sm","font-medium","truncate",3,"title"],[1,"mt-1","flex-grow","flex","flex-col","justify-between"],[1,"mt-3"],[1,"px-2","py-1","text-green-800","font-medium","bg-green-100","rounded-full"],[1,"-mt-px","flex","divide-x","divide-gray-200"],[1,"w-0","flex-1","flex"],[1,"relative","-mr-px","w-0","flex-1","inline-flex","items-center","justify-center","py-4","text-sm","text-gray-700","font-medium","border","border-transparent","rounded-bl-lg","hover:text-gray-500",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"],[1,"ml-3"],[1,"-ml-px","w-0","flex-1","flex"],["href","#",1,"relative","w-0","flex-1","inline-flex","items-center","justify-center","py-4","text-sm","text-gray-700","font-medium","border","border-transparent","rounded-br-lg","hover:text-gray-500",3,"routerLink"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"]],template:function(e,t){1&e&&(i.TgZ(0,"li",0),i.TgZ(1,"div",1),i._UZ(2,"img",2),i.TgZ(3,"a",3),i.TgZ(4,"h3",4),i._uU(5,"Product Name"),i.qZA(),i.TgZ(6,"h3",5),i._uU(7),i.qZA(),i.qZA(),i.TgZ(8,"dl",6),i.TgZ(9,"dt",4),i._uU(10,"Product Price"),i.qZA(),i.TgZ(11,"dd",7),i.TgZ(12,"span",8),i._uU(13),i.ALo(14,"currency"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(15,"div"),i.TgZ(16,"div",9),i.TgZ(17,"div",10),i.TgZ(18,"button",11),i.NdJ("click",function(){return t.addItemToBasket()}),i.O4$(),i.TgZ(19,"svg",12),i._UZ(20,"path",13),i.qZA(),i.kcU(),i.TgZ(21,"span",14),i._uU(22,"Shop"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(23,"div",15),i.TgZ(24,"a",16),i.O4$(),i.TgZ(25,"svg",12),i._UZ(26,"path",17),i.qZA(),i.kcU(),i.TgZ(27,"span",14),i._uU(28,"View"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.xp6(2),i.s9C("src",t.product.pictureUrl,i.LSH),i.s9C("alt",t.product.name),i.xp6(1),i.MGl("routerLink","/shop/",t.product.id,""),i.xp6(3),i.s9C("title",t.product.name),i.xp6(1),i.hij(" ",t.product.name," "),i.xp6(6),i.hij(" ",i.lcZ(14,7,t.product.price)," "),i.xp6(11),i.MGl("routerLink","/shop/",t.product.id,""))},directives:[n.yS],pipes:[o.H9],styles:[""],changeDetection:0}),e})();function $(e,t){if(1&e&&(i.TgZ(0,"option",26),i._uU(1),i.qZA()),2&e){const e=t.$implicit,r=i.oxw(2).ngIf;i.Q6J("value",e.value)("selected",r.productParams.sort===e.value),i.xp6(1),i.hij(" ",e.name," ")}}function z(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"li",27),i.NdJ("click",function(){const t=i.CHM(e).$implicit;return i.oxw(3).onBrandSelected(t.id)}),i.TgZ(1,"span",28),i._uU(2),i.qZA(),i.qZA()}if(2&e){const e=t.$implicit,r=i.oxw(2).ngIf;i.ekj("active",r.productParams.brandId===e.id),i.Q6J("value",e.id),i.xp6(2),i.hij(" ",e.name," ")}}function M(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"li",29),i.NdJ("click",function(){const t=i.CHM(e).$implicit;return i.oxw(3).onTypeSelected(t.id)}),i.TgZ(1,"span",28),i._uU(2),i.qZA(),i.qZA()}if(2&e){const e=t.$implicit,r=i.oxw(2).ngIf;i.ekj("active",r.productParams.typeId===e.id),i.Q6J("value",e.id),i.xp6(2),i.hij(" ",e.name,"")}}function j(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"div",16),i.TgZ(1,"nav",17),i.TgZ(2,"div",18),i.TgZ(3,"h3",19),i._uU(4," Sort "),i.qZA(),i.TgZ(5,"div",20),i.TgZ(6,"select",21),i.NdJ("change",function(t){return i.CHM(e),i.oxw(2).onSortSelected(t)}),i.YNc(7,$,2,3,"option",22),i.qZA(),i.qZA(),i.qZA(),i.TgZ(8,"div",18),i.TgZ(9,"h3",19),i._uU(10," Brands "),i.qZA(),i.TgZ(11,"div",23),i.YNc(12,z,3,4,"li",24),i.ALo(13,"async"),i.qZA(),i.qZA(),i.TgZ(14,"div",18),i.TgZ(15,"h3",19),i._uU(16," Types "),i.qZA(),i.TgZ(17,"div",23),i.YNc(18,M,3,4,"li",25),i.ALo(19,"async"),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&e){const e=i.oxw(2);i.xp6(7),i.Q6J("ngForOf",e.sortOptions),i.xp6(5),i.Q6J("ngForOf",i.lcZ(13,3,e.brands$)),i.xp6(6),i.Q6J("ngForOf",i.lcZ(19,5,e.types$))}}function J(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"div",30),i.NdJ("click",function(){return i.CHM(e),i.oxw(2).onReset()}),i.O4$(),i.TgZ(1,"svg",31),i._UZ(2,"path",32),i.qZA(),i.qZA()}}function N(e,t){1&e&&i._UZ(0,"app-product-item",33),2&e&&i.Q6J("product",t.$implicit)}const B=function(e){return{"placeholder-transparent":e}};function F(e,t){if(1&e){const e=i.EpF();i.ynx(0),i.TgZ(1,"div",1),i.YNc(2,j,20,7,"div",2),i._UZ(3,"div",3),i._UZ(4,"app-pagination-header",4),i.TgZ(5,"div",5),i.TgZ(6,"label",6),i._uU(7,"Search"),i.qZA(),i.TgZ(8,"div",7),i.TgZ(9,"div",8),i.O4$(),i.TgZ(10,"svg",9),i._UZ(11,"path",10),i.qZA(),i.qZA(),i.kcU(),i.TgZ(12,"input",11),i.NdJ("keyup.enter",function(t){return i.CHM(e),i.oxw().onSearch(t)})("blur",function(t){return i.CHM(e),i.oxw().onSearchBoxBlur(t)}),i.ALo(13,"async"),i.qZA(),i.YNc(14,J,3,0,"div",12),i.qZA(),i.qZA(),i.TgZ(15,"ul",13),i.YNc(16,N,1,1,"app-product-item",14),i.qZA(),i.TgZ(17,"app-pagination",15),i.NdJ("pageSelected",function(t){return i.CHM(e),i.oxw().onPageChanged(t)}),i.qZA(),i.qZA(),i.BQk()}if(2&e){const e=t.ngIf,r=i.oxw();i.xp6(2),i.Q6J("ngIf",r.types$&&r.brands$),i.xp6(2),i.Q6J("ngClass",i.VKq(16,B,e.productParams&&e.totalProductCount))("pageIndex",e.productParams.pageIndex)("pageSize",e.productParams.pageSize)("totalCount",e.totalProductCount),i.xp6(8),i.s9C("value",i.lcZ(13,14,r.searchTerm$)),i.xp6(2),i.Q6J("ngIf",e.productParams.search),i.xp6(1),i.ekj("empty",0===e.totalProductCount),i.xp6(1),i.Q6J("ngForOf",e.products)("ngForTrackBy",r.trackByProductId),i.xp6(1),i.Q6J("totalCount",e.totalProductCount)("pageIndex",e.productParams.pageIndex)("pageSize",e.productParams.pageSize)}}const Q=[{path:"",component:(()=>{class e{constructor(e){this.shopService=e,this.sortOptions=[{name:"Name: A to Z",value:"name"},{name:"Price: Low to High",value:"priceAsc"},{name:"Price: High to Low",value:"priceDesc"}],this.brands$=this.shopService.brands$,this.types$=this.shopService.types$,this.products$=this.shopService.products$,this.productParams$=this.shopService.productParams$,this.searchTerm$=this.productParams$.pipe((0,m.U)(e=>e.search)),this.totalProductCount$=this.shopService.totalProductCount$,this.vm$=(0,T.aj)([this.products$,this.productParams$,this.totalProductCount$]).pipe((0,m.U)(e=>({products:e[0],productParams:e[1],totalProductCount:e[2]})))}ngOnInit(){this.shopService.getBrands().subscribe(),this.shopService.getTypes().subscribe()}onBrandSelected(e){this.shopService.updateProductParams({brandId:e,pageIndex:1})}onTypeSelected(e){this.shopService.updateProductParams({typeId:e})}onSortSelected(e){this.shopService.updateProductParams({sort:e.target.value})}onPageChanged(e){this.shopService.updateProductParams({pageIndex:e})}onSearch(e){this.shopService.updateProductParams({search:e.target.value,pageIndex:1})}onReset(){this.shopService.updateProductParams({search:""})}onSearchBoxBlur(e){e.target.value||this.shopService.updateProductParams({search:"",pageIndex:1})}trackByProductId(e,t){return t.id}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(v))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-shop"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"grid","grid-cols-1","gap-6","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4"],["class","row-start-2 row-span-1",4,"ngIf"],[1,"placeholder-transparent"],[1,"col-start-2","sm:col-span-1","md:col-span-1","lg:col-span-2","flex",3,"ngClass","pageIndex","pageSize","totalCount"],[1,"max-w-lg","w-full","lg:max-w-xs"],["for","search",1,"sr-only"],[1,"relative","text-gray-400","focus-within:text-gray-500"],[1,"pointer-events-none","absolute","inset-y-0","left-0","pl-3","flex","items-center"],["x-description","Heroicon name: solid/search","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5"],["fill-rule","evenodd","d","M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule","evenodd"],["id","search","placeholder","Search","type","search","name","search",1,"block","w-full","bg-white","py-2","pl-10","pr-3","border","border-gray-300","rounded-md","leading-5","text-gray-900","placeholder-gray-500","focus:outline-none","focus:ring-1","focus:ring-purple-500","focus:border-purple-500","focus:placeholder-gray-500","sm:text-sm",3,"value","keyup.enter","blur"],["class","absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer",3,"click",4,"ngIf"],[1,"col-start-2","row-start-2","col-span-3","grid","gap-6","sm:grid-cols-1","md:grid-cols-2","lg:grid-cols-3"],[3,"product",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-start-2","col-span-3",3,"totalCount","pageIndex","pageSize","pageSelected"],[1,"row-start-2","row-span-1"],["aria-label","Sidebar",1,"px-2","py-5","space-y-8","sticky","top-24","bg-white","rounded-lg","shadow-md"],[1,"space-y-1"],["id","projects-headline",1,"px-3","mb-1","text-sm","font-semibold","text-indigo-700","uppercase","tracking-wider"],["role","group","aria-labelledby","projects-headline",1,"space-y-1","flex","flex-row"],["id","sort","name","sort",1,"flex-1","mx-3","my-2","block","w-auto","pl-3","pr-10","py-2","text-base","border-gray-300","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm","rounded-md",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],["role","group","aria-labelledby","projects-headline",1,"space-y-1"],["class","group flex items-center px-3 py-2 text-sm font-medium text-gray-600 rounded-md hover:text-gray-900 hover:bg-gray-50 cursor-pointer",3,"active","value","click",4,"ngFor","ngForOf"],["href","#","class","group flex items-center px-3 py-2 text-sm font-medium text-gray-600 rounded-md hover:text-gray-900 hover:bg-gray-50 cursor-pointer",3,"active","value","click",4,"ngFor","ngForOf"],[3,"value","selected"],[1,"group","flex","items-center","px-3","py-2","text-sm","font-medium","text-gray-600","rounded-md","hover:text-gray-900","hover:bg-gray-50","cursor-pointer",3,"value","click"],[1,"truncate"],["href","#",1,"group","flex","items-center","px-3","py-2","text-sm","font-medium","text-gray-600","rounded-md","hover:text-gray-900","hover:bg-gray-50","cursor-pointer",3,"value","click"],[1,"absolute","inset-y-0","right-0","pr-3","flex","items-center","cursor-pointer",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6","transition-all","duration-500","ease-in-out"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[3,"product"]],template:function(e,t){1&e&&(i.YNc(0,F,18,18,"ng-container",0),i.ALo(1,"async")),2&e&&i.Q6J("ngIf",i.lcZ(1,1,t.vm$))},directives:[o.O5,C,o.mk,o.sg,U,_.YN,_.Kr,O],pipes:[o.Ov],styles:[".active[_ngcontent-%COMP%]{--tw-bg-opacity:1;background-color:rgba(79,70,229,var(--tw-bg-opacity));--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}.empty[_ngcontent-%COMP%]{border-radius:.5rem;--tw-border-opacity:1;border:4px dashed rgba(229,231,235,var(--tw-border-opacity))}"],changeDetection:0}),e})()},{path:":id",component:P,data:{breadcrumb:{alias:"productDetails"}}}];let L=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[n.Bz.forChild(Q)],n.Bz]}),e})();var H=r(5425);let Y=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[o.ez,L,H.m,_.u5]]}),e})()}}]);