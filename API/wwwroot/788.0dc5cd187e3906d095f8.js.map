{"version":3,"sources":["./src/app/shared/basket-summary/basket-summary.component.html","./src/app/shared/basket-summary/basket-summary.component.ts","./src/app/shared/button/button.component.ts","./src/app/shared/button/button.component.html","./src/app/shared/order-totals/order-totals.component.html","./src/app/shared/order-totals/order-totals.component.ts","./src/app/shared/quantity-count/quantity-count.component.ts"],"names":["BasketSummaryComponent","readonly","items$","basketCount$","of","products$","incremented","decremented","removed","this","pipe","items","map","item","toProductListItem","id","productId","pictureUrl","price","productName","quantity","emit","ButtonComponent","disabled","type","OrderTotalsComponent","showHints","nextButtonLink","nextButtonText","QuantityCountComponent","count","handleDecrement","handleIncrement"],"mappings":"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","file":"788.0dc5cd187e3906d095f8.js","sourcesContent":["<ng-container *ngIf=\"products$ | async as products; else elseTemplate\">\r\n  <div *ngIf=\"products.length === 0; else elseTemplate\">\r\n    <p>There are no items in your basket.</p>\r\n  </div>\r\n</ng-container>\r\n\r\n<ng-template #elseTemplate>\r\n  <div class=\"flex flex-col\">\r\n    <div class=\"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8\">\r\n      <div class=\"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8\">\r\n        <div class=\"shadow-md overflow-hidden border-b border-gray-200 rounded-md\">\r\n          <table class=\"min-w-full divide-y divide-gray-200\">\r\n            <thead class=\"bg-gray-50\">\r\n              <tr>\r\n                <th\r\n                  scope=\"col\"\r\n                  class=\"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider\"\r\n                >\r\n                  Product\r\n                </th>\r\n                <th\r\n                  scope=\"col\"\r\n                  class=\"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider\"\r\n                >\r\n                  Price\r\n                </th>\r\n                <th\r\n                  scope=\"col\"\r\n                  class=\"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider\"\r\n                >\r\n                  Quantity\r\n                </th>\r\n                <th\r\n                  scope=\"col\"\r\n                  class=\"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider\"\r\n                >\r\n                  Total\r\n                </th>\r\n                <th *ngIf=\"!readonly\" scope=\"col\" class=\"relative px-6 py-3\">\r\n                  <span class=\"sr-only\">Delete</span>\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <ng-container *ngFor=\"let item of products$ | async; let odd = odd; let even = even\">\r\n                <tr [ngClass]=\"{ 'bg-white': even, 'bg-gray-50': odd }\">\r\n                  <td class=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\r\n                    <div class=\"flex items-center\">\r\n                      <div\r\n                        class=\"flex-shrink-0 h-12 w-12 cursor-pointer\"\r\n                        routerLink=\"/shop/{{ item.id }}\"\r\n                      >\r\n                        <picture class=\"h-12 w-12\">\r\n                          <source srcset=\"{{ item.pictureUrl }}.webp\" type=\"image/webp\" />\r\n                          <source srcset=\"{{ item.pictureUrl }}.png\" type=\"image/png\" />\r\n                          <img src=\"{{ item.pictureUrl }}.png\" alt=\"{{ item.productName }}\" />\r\n                        </picture>\r\n                      </div>\r\n                      <div class=\"ml-4\">\r\n                        {{ item.productName }}\r\n                      </div>\r\n                    </div>\r\n                  </td>\r\n                  <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-600\">\r\n                    {{ item.price | currency }}\r\n                  </td>\r\n                  <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-600\">\r\n                    <ng-container *ngIf=\"!readonly; else elseTemplate\">\r\n                      <app-quantity-count\r\n                        [count]=\"item.quantity\"\r\n                        (incremented)=\"incrementItemCount(item)\"\r\n                        (decremented)=\"decrementItemCount(item)\"\r\n                      ></app-quantity-count>\r\n                    </ng-container>\r\n                    <ng-template #elseTemplate>\r\n                      {{ item.quantity }}\r\n                    </ng-template>\r\n                  </td>\r\n                  <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-600\">\r\n                    {{ item.quantity * item.price | currency }}\r\n                  </td>\r\n\r\n                  <td\r\n                    *ngIf=\"!readonly\"\r\n                    class=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\"\r\n                  >\r\n                    <span class=\"sr-only\">Delete</span>\r\n                    <div\r\n                      class=\"text-red-700 hover:text-red-500 cursor-pointer\"\r\n                      (click)=\"removeItem(item)\"\r\n                    >\r\n                      <svg\r\n                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                        class=\"h-6 w-6\"\r\n                        fill=\"none\"\r\n                        viewBox=\"0 0 24 24\"\r\n                        stroke=\"currentColor\"\r\n                      >\r\n                        <path\r\n                          stroke-linecap=\"round\"\r\n                          stroke-linejoin=\"round\"\r\n                          stroke-width=\"2\"\r\n                          d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\r\n                        />\r\n                      </svg>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              </ng-container>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</ng-template>\r\n","import {\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  EventEmitter,\r\n  Input,\r\n  OnInit,\r\n  Output,\r\n} from '@angular/core';\r\nimport { Observable, of } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { IBasket, IBasketItem } from '../models/basket.model';\r\nimport { IOrderItem } from '../models/order.model';\r\n\r\ninterface IProductListItem {\r\n  id: number;\r\n  pictureUrl: string;\r\n  price: number;\r\n  productName: string;\r\n  quantity: number;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-basket-summary',\r\n  templateUrl: './basket-summary.component.html',\r\n  styleUrls: ['./basket-summary.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class BasketSummaryComponent implements OnInit {\r\n  @Input() readonly = false;\r\n  @Input() items$ = new Observable<IBasketItem[] | IOrderItem[]>();\r\n\r\n  basket$: Observable<IBasket> | undefined;\r\n  basketCount$: Observable<number> = of(0);\r\n  products$ = new Observable<IProductListItem[]>();\r\n\r\n  @Output() incremented = new EventEmitter<IBasketItem>();\r\n  @Output() decremented = new EventEmitter<IBasketItem>();\r\n  @Output() removed = new EventEmitter<IBasketItem>();\r\n\r\n  constructor() {}\r\n\r\n  ngOnInit(): void {\r\n    this.products$ = this.items$.pipe(\r\n      map((items) => items.map((item: IBasketItem | IOrderItem) => this.toProductListItem(item)))\r\n    );\r\n  }\r\n\r\n  toProductListItem(item: IOrderItem | IBasketItem) {\r\n    const productId = 'productId' in item ? item.productId : item.id;\r\n    return {\r\n      id: productId,\r\n      pictureUrl: item.pictureUrl,\r\n      price: item.price,\r\n      productName: item.productName,\r\n      quantity: item.quantity,\r\n    } as IProductListItem;\r\n  }\r\n\r\n  decrementItemCount(item: IProductListItem) {\r\n    this.decremented.emit(item as IBasketItem);\r\n  }\r\n  incrementItemCount(item: IProductListItem) {\r\n    this.incremented.emit(item as IBasketItem);\r\n  }\r\n  removeItem(item: IProductListItem) {\r\n    this.removed.emit(item as IBasketItem);\r\n  }\r\n}\r\n","import { ChangeDetectionStrategy, Component, Input, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-button',\r\n  templateUrl: './button.component.html',\r\n  styleUrls: ['./button.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class ButtonComponent {\r\n  @Input() disabled: boolean = false;\r\n  @Input() type: 'primary' | 'secondary' | 'error' | 'warning' = 'primary';\r\n\r\n  constructor() {}\r\n}\r\n","<button [ngClass]=\"{ primary: type === 'primary', disabled: disabled }\">\r\n  <ng-content></ng-content>\r\n</button>\r\n","<div class=\"pb-6 bg-white rounded-md shadow-md\">\r\n  <div\r\n    class=\"bg-gray-50 px-6 pt-5 pb-4 rounded-t-md text-sm font-medium text-gray-500 border-b border-gray-200\"\r\n  >\r\n    <h3 class=\"uppercase flex items-center\">Order Summary</h3>\r\n    <p *ngIf=\"showHints\" class=\"text-xs italic mt-2 text-gray-400\">\r\n      *Shipping costs will be added depending on the choices made during checkout.\r\n    </p>\r\n  </div>\r\n  <div class=\"flow-root mt-4 text-sm px-6 text-gray-600\">\r\n    <ul class=\"-my-5 divide-y divide-gray-200\">\r\n      <li class=\"py-4\">\r\n        <div class=\"flex items-center justify-between space-x-4\">\r\n          <span>Order Subtotal:</span>\r\n          {{ (orderSummary$ | async)?.orderSubtotal | currency }}\r\n        </div>\r\n      </li>\r\n\r\n      <li class=\"py-4\">\r\n        <div class=\"flex items-center justify-between space-x-4\">\r\n          <span>Shipping Fee:</span>\r\n          {{ (orderSummary$ | async)?.orderShippingFee | currency }}\r\n        </div>\r\n      </li>\r\n\r\n      <li class=\"py-4\">\r\n        <div class=\"flex items-center justify-between space-x-4\">\r\n          <span>Order Total:</span>\r\n          {{ (orderSummary$ | async)?.orderTotal | currency }}\r\n        </div>\r\n      </li>\r\n    </ul>\r\n    <div class=\"mt-8\">\r\n      <app-button routerLink=\"{{ nextButtonLink }}\">{{ nextButtonText }}</app-button>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { ChangeDetectionStrategy, Component, Input, OnDestroy, OnInit } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { IOrderSummary } from '../models/order.model';\r\n\r\n@Component({\r\n  selector: 'app-order-totals',\r\n  templateUrl: './order-totals.component.html',\r\n  styleUrls: ['./order-totals.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class OrderTotalsComponent {\r\n  @Input() showHints = true;\r\n  @Input() orderSummary$!: Observable<IOrderSummary>;\r\n  @Input() nextButtonLink = '/checkout';\r\n  @Input() nextButtonText = 'Continue to checkout';\r\n\r\n  constructor() {}\r\n}\r\n","import {\r\n  Component,\r\n  Input,\r\n  OnInit,\r\n  Output,\r\n  EventEmitter,\r\n  ChangeDetectionStrategy,\r\n} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-quantity-count',\r\n  template: `\r\n    <div class=\"flex items-center\">\r\n      <button\r\n        (click)=\"handleDecrement()\"\r\n        class=\"cursor-pointer disabled:cursor-default disabled:pointer-events-none\"\r\n        [disabled]=\"count === 1\"\r\n      >\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          viewBox=\"0 0 24 24\"\r\n          class=\"h-6 w-6\"\r\n          [attr.fill]=\"count === 1 ? '#818CF8' : '#4f46e5'\"\r\n          stroke=\"white\"\r\n        >\r\n          <path\r\n            stroke-linecap=\"round\"\r\n            stroke-linejoin=\"round\"\r\n            stroke-width=\"2\"\r\n            d=\"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n          />\r\n        </svg>\r\n      </button>\r\n      <span class=\"mx-2 w-4 flex justify-center\">\r\n        {{ count }}\r\n      </span>\r\n      <button\r\n        (click)=\"handleIncrement()\"\r\n        class=\"cursor-pointer disabled:cursor-default disabled:pointer-events-none\"\r\n      >\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          viewBox=\"0 0 24 24\"\r\n          class=\"h-6 w-6\"\r\n          fill=\"#4f46e5\"\r\n          stroke=\"white\"\r\n        >\r\n          <path\r\n            stroke-linecap=\"round\"\r\n            stroke-linejoin=\"round\"\r\n            stroke-width=\"2\"\r\n            d=\"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n          />\r\n        </svg>\r\n      </button>\r\n    </div>\r\n  `,\r\n  styles: [],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class QuantityCountComponent {\r\n  @Input() count: number | null = 0;\r\n  @Output() incremented: EventEmitter<boolean> = new EventEmitter();\r\n  @Output() decremented: EventEmitter<boolean> = new EventEmitter();\r\n\r\n  handleIncrement() {\r\n    this.incremented.emit(true);\r\n  }\r\n  handleDecrement() {\r\n    this.decremented.emit(true);\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}